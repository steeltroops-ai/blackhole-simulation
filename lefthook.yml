# Lefthook: Intelligent Git Hooks for Scientific Simulation
# Configured for Bun & Rust Hybrid codebase

pre-commit:
  parallel: true
  commands:
    # 1. Frontend Quality Checks
    frontend-lint:
      glob: "*.{js,ts,tsx}"
      run: bun run lint
    frontend-types:
      run: bun run type-check

    # 2. Rust Engine Quality Checks
    rust-check:
      root: physics-engine/
      glob: "*.rs"
      run: cargo check
    rust-clippy:
      root: physics-engine/
      glob: "*.rs"
      run: cargo clippy

    # 3. Security & Format
    prettier:
      glob: "*.{js,ts,tsx,css,md}"
      run: bunx prettier --check {staged_files}

commit-msg:
  commands:
    # 4. Enforce Conventional Commits
    lint-commit:
      run: bun scripts/lint-commit.ts {1}

pre-push:
  commands:
    # 5. Heavy Industry Testing
    run-tests:
      run: bun run test
